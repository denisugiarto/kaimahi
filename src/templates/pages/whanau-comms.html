{% extends "layout.html" %} {% set pageTitle = 'Whānau Comms' %} {% set cssFiles = './assets/css/style.css' %} {% block
content %} {% import '../components/input-search.html' as inputSearch %} {% import '../components/input.html' as input
%} {% import '../components/buttons.html' as button %}
<main class="bd-main">
  <!-- PAGE TITLE -->
  <h1 class="page-title">Whānau Comms</h1>
  <div class="card">
    <div class="card-body">
      <!-- TABS -->
      <div class="nav nav-tabs mb-4 mb-md-5" id="nav-tab" role="tablist">
        <a
          class="nav-link active"
          id="nav-create-message-tab"
          data-bs-toggle="tab"
          data-bs-target="#nav-create-message"
          type="button"
          role="tab"
          aria-controls="nav-create-message"
          aria-selected="true"
        >
          <i class="fa-solid fa-pen me-1"></i>Create Message</a
        >
        <a
          class="nav-link"
          id="nav-history-tab"
          data-bs-toggle="tab"
          data-bs-target="#nav-history"
          type="button"
          role="tab"
          aria-controls="nav-history"
          aria-selected="true"
        >
          <i class="fa-solid fa-clock-rotate-left me-1"></i>Message History</a
        >
      </div>

      <div class="tab-content" id="nav-tabContent">
        <!-- TAB create-message -->
        <div
          class="tab-pane fade show active"
          id="nav-create-message"
          role="tabpanel"
          aria-labelledby="nav-create-message-tab"
        >
          <!-- STEPS MENU -->
          <div class="steps-menu mb-5">
            <div id="step1" class="step-item">
              <div class="step-number">1</div>
              <div class="step-title">Message Detail</div>
            </div>
            <div id="step2" class="step-item active">
              <div class="step-number">2</div>
              <div class="step-title">Select Whānau</div>
            </div>
          </div>

          <div id="messageDetail" class="collapse">
            <h6 class="h6 fw-bolder ms-2">Message Detail</h6>
            <hr class="my-2" />

            <div class="card align-items-center">
              <div class="card-body col-12 col-sm-6 col-lg-7 col-xl-5">
                {{ input.withIcon('fa-clock', 'Time', 'time', '', 'time') }} {{ input.withIcon('fa-calendar-days',
                'Date', 'date', '', 'date') }} {{ input.withIconTextArea('fa-comment-dots', 'Message', 'message', '',
                'text') }}
                <button type="submit" class="btn btn-primary btn-lg w-100 py-3">Add Message</button>
              </div>
            </div>
          </div>

          <div id="selectWhanau" class="collapse show">
            <div class="d-flex">
              <a id="backMessageDetail" role="button" class="d-flex align-items-center fw-bolder">
                <i class="icon-back fa-solid fa-angle-left me-2"></i>
                Select Whānau
              </a>
              <button class="btn btn-outline-primary ms-auto">Bulk Upload</button>
            </div>
            <hr class="my-2" />

            <div class="card align-items-center">
              <div class="card-body col-12 col-xl-8">
                <!-- LIST ADD WHANAU -->
                <div class="card border mb-4" id="selectedList">
                  <div class="card-header border-bottom bg-white">
                    <h6 class="h6">Add Whānau</h6>
                  </div>
                  <div class="card-body">
                    <div class="row g-2">
                      <div class="col-12 col-md-6">
                        <div class="card small bg-light">
                          <div class="card-body">
                            <div class="d-flex align-items-center">
                              <img src="./assets/images/profile-1.webp" alt="avatar" class="icon-lg rounded-circle" />
                              <div class="d-block ms-2">
                                <h6 class="fs-5 mb-1">Ahmed Al Aklouk</h6>
                                <h6 class="fs-6"><span class="fw-light text-dark">Last Delivery</span> 17-01-2022</h6>
                              </div>
                              <div class="ms-auto">{{ button.icon('fa-trash', 'bg-danger') }}</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-12 col-md-6">
                        <div class="card small bg-light">
                          <div class="card-body">
                            <div class="d-flex align-items-center">
                              <img src="./assets/images/profile-1.webp" alt="avatar" class="icon-lg rounded-circle" />
                              <div class="d-block ms-2">
                                <h6 class="fs-5 mb-1">Ahmed Al Aklouk</h6>
                                <h6 class="fs-6"><span class="fw-light text-dark">Last Delivery</span> 17-01-2022</h6>
                              </div>
                              <div class="ms-auto">{{ button.icon('fa-trash', 'bg-danger') }}</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-12 col-md-6">
                        <div class="card small bg-light">
                          <div class="card-body">
                            <div class="d-flex align-items-center">
                              <img src="./assets/images/profile-1.webp" alt="avatar" class="icon-lg rounded-circle" />
                              <div class="d-block ms-2">
                                <h6 class="fs-5 mb-1">Ahmed Al Aklouk</h6>
                                <h6 class="fs-6"><span class="fw-light text-dark">Last Delivery</span> 17-01-2022</h6>
                              </div>
                              <div class="ms-auto">{{ button.icon('fa-trash', 'bg-danger') }}</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-12 col-md-6">
                        <div class="card small bg-light">
                          <div class="card-body">
                            <div class="d-flex align-items-center">
                              <img src="./assets/images/profile-1.webp" alt="avatar" class="icon-lg rounded-circle" />
                              <div class="d-block ms-2">
                                <h6 class="fs-5 mb-1">Ahmed Al Aklouk</h6>
                                <h6 class="fs-6"><span class="fw-light text-dark">Last Delivery</span> 17-01-2022</h6>
                              </div>
                              <div class="ms-auto">{{ button.icon('fa-trash', 'bg-danger') }}</div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- SELECT WHANAU -->
                <div class="card border">
                  <div class="card-body">
                    {{ inputSearch.input('Look For Whānau', 'w-100') }}
                    <div class="list-item mb-4">
                      <div class="d-flex border-bottom p-3 align-items-center">
                        <input type="checkbox" class="form-check-input me-2" />
                        <img src="./assets/images/profile-1.webp" alt="avatar" class="icon-lg rounded-circle me-2" />
                        <div>
                          <h6 class="fs-5 mb-1">Ahmed Al Aklouk</h6>
                          <h6 class="fs-6"><span class="fw-light text-dark">Last Delivery</span> 17-01-2022</h6>
                        </div>
                      </div>
                    </div>
                    <button class="btn btn-secondary w-100">Send Message</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- TAB HISTORY MESSAGE -->
        <div class="tab-pane fade" id="nav-history" role="tabpanel" aria-labelledby="nav-history-tab">
          <a role="button" class="d-flex align-items-center fw-bolder">
            <h6 class="h6 fw-bolder">Message History</h6>
          </a>
          <hr class="my-2" />
          <div class="d-flex justify-content-end">
            <div class="col-10 col-sm-auto">{{ inputSearch.input('Look message history') }}</div>
          </div>
          <div class="table-responsive-lg mt-4">
            <table class="table table-bordered">
              <thead class="table-light">
                <tr>
                  <th scope="col">Message</th>
                  <th scope="col">Recepients</th>
                  <th scope="col">Message Time</th>
                  <th scope="col"></th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    Lorem Ipsum Is A Placeholder Text Commonly Used To Demonstrate The Visual Form Of A Document Or A
                  </td>
                  <td>2</td>
                  <td>17-08-2022, 04:00pm</td>
                  <td>
                    <a href="" class="text-primary">See Details</a>
                    <a href="" class="text-danger">Delete</a>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="row align-items-center">
            <div class="col">
              <p class="text-secondary fs-6 fw-light">Showing 1 to 1 of 1 entries</p>
            </div>
            <div class="col-auto">
              <nav aria-label="Page navigation example">
                <ul class="pagination">
                  <li class="page-item active"><a class="page-link" href="#">1</a></li>
                  <li class="page-item"><a class="page-link" href="#">2</a></li>
                  <li class="page-item"><a class="page-link" href="#">3</a></li>
                </ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
{% endblock %} {% block script %}
<script>
  $(document).ready(function () {
    // ADD SIDEBAR MENU TO ACTIVE
    $(".nav-link:contains('Whānau Comms')").addClass("active");

    //CREATE MESSAGE TO STEP 2
    $("button:contains(Add Message)").click(function () {
      $("#messageDetail").removeClass("show");
      $("#selectWhanau").addClass("show");
      $("#step1").removeClass("active");
      $("#step2").addClass("active");
    });

    //CREATE MESSAGE BACK TO STEP 1
    $("#backMessageDetail").click(function () {
      $("#messageDetail").addClass("show");
      $("#selectWhanau").removeClass("show");
      $("#step2").removeClass("active");
      $("#step1").addClass("active");
    });

    // TIME AND DATE
    var now = new Date();
    function addZero(value) {
      if (value < 10) {
        return "0" + value;
      }

      return value;
    }
    let day = addZero(now.getDate());
    let month = addZero(now.getMonth());
    let year = now.getFullYear();
    let date = year + "-" + month + "-" + day;
    $("#time").val(now.toLocaleString("en-US", { hour: "2-digit", minute: "2-digit", hour12: false }));
    $("#date").val(date);

    let message = "Lorem Ipsum Is A Placeholder Text Commonly Used To Demonstrate The Visual Form Of A Document Or A";
    $("#message").val(message);
  });
</script>
{% endblock %}
